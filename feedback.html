<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback ‚Äì Strawberry Avenue Crew</title>
    <link rel="stylesheet" href="style.css">
    <style>

        /* BOX FEEDBACK */
        .feedback-box {
            background: rgba(0,0,0,0.55);
            padding: 28px;
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.15);
            max-width: 600px;
            margin: 30px auto;
            box-shadow: 0 0 18px rgba(0,0,0,0.7);
        }

        .feedback-box h2 {
            text-align: center;
            margin-bottom: 16px;
        }

        /* INPUT */
        .feedback-box input, .feedback-box textarea {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            margin-bottom: 16px;
            border-radius: 10px;
            border: none;
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1rem;
        }

        .feedback-box textarea {
            resize: vertical;
            height: 120px;
        }

        /* STELLE */
        .stars {
            text-align: center;
            margin-bottom: 15px;
        }

        .stars span {
            font-size: 38px;
            cursor: pointer;
            color: #555;
            transition: 0.2s;
        }

        .stars span.active {
            color: gold;
            text-shadow: 0 0 10px gold;
        }

        /* BOTTONE */
        .submit-btn {
            width: 100%;
            padding: 12px;
            background: #ed2b2a;
            border: none;
            border-radius: 10px;
            color: #fff;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }

        .submit-btn:hover {
            background: #ff3c32;
        }

    </style>
</head>
<body>

<div class="container">

    <header>
        <img src="logo.png" class="logo">
        <h1>Strawberry Avenue Crew</h1>
    </header>

    <nav>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="storia.html">Storia</a>
            <a href="membri.html">Membri</a>
            <a href="feedback.html">Feedback</a>
        </div>
    </nav>

    <section>
        <h2>Lascia un Feedback</h2>
        <p class="section-subtitle">Valuta lo staff, il server e il bot.</p>

        <div class="feedback-box">

            <h2>Dai una valutazione ‚≠ê</h2>

            <!-- STELLE -->
            <div class="stars" id="stars">
                <span data-star="1">‚òÖ</span>
                <span data-star="2">‚òÖ</span>
                <span data-star="3">‚òÖ</span>
                <span data-star="4">‚òÖ</span>
                <span data-star="5">‚òÖ</span>
            </div>

            <!-- INPUT -->
            <input type="text" id="nickname" placeholder="Il tuo nickname" required>
            <textarea id="commento" placeholder="Scrivi il tuo feedback..." required></textarea>

            <button class="submit-btn" onclick="inviaFeedback()">Invia Feedback</button>

        </div>

    </section>

</div>

<script>
    let stelle = 0;

    // Attiva stelle
    document.querySelectorAll("#stars span").forEach(star => {
        star.addEventListener("click", () => {
            stelle = star.dataset.star;
            document.querySelectorAll("#stars span").forEach(s => s.classList.remove("active"));
            for (let i = 0; i < stelle; i++) {
                document.querySelectorAll("#stars span")[i].classList.add("active");
            }
        });
    });

    // INVIO FEEDBACK A DISCORD WEBHOOK
    function inviaFeedback() {
        const nickname = document.getElementById("nickname").value;
        const commento = document.getElementById("commento").value;

        if (stelle === 0) {
            alert("Seleziona una valutazione (1-5 stelle).");
            return;
        }
        if (!nickname || !commento) {
            alert("Compila tutti i campi.");
            return;
        }

        fetch("https://discord.com/api/webhooks/1438976519228624956/6W3HAsNNVkpqavP2mGr5ofnARHZA5CqGncEFTW6_to2eL7BDrQrtVxW54Lq6Q0x-as4P", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                embeds: [{
                    title: "üì© Nuovo Feedback ricevuto",
                    color: 16734296,
                    fields: [
                        { name: "üë§ Nickname", value: nickname },
                        { name: "‚≠ê Valutazione", value: stelle + " / 5" },
                        { name: "üí¨ Commento", value: commento }
                    ],
                    footer: { text: "Sito SAC ‚Äì Feedback System" }
                }]
            })
        });

        alert("Grazie! Il tuo feedback √® stato inviato.");
        document.getElementById("nickname").value = "";
        document.getElementById("commento").value = "";
        stelle = 0;
        document.querySelectorAll("#stars span").forEach(s => s.classList.remove("active"));
    }
</script>

</body>
</html>


